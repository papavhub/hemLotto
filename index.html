<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>프리미엄 로또 생성기</title>

<style>
body{
  margin:0;
  background:linear-gradient(135deg,#0f172a,#1e293b);
  color:white;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  text-align:center;
}

h1{
  margin-top:50px;
  font-weight:600;
  letter-spacing:1px;
}

/* ===== 토글 ===== */
.toggle-wrap{
  margin:30px auto;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:12px;
  font-size:14px;
}

.switch{
  position:relative;
  width:70px;
  height:34px;
}

.switch input{
  opacity:0;
  width:0;
  height:0;
}

.slider{
  position:absolute;
  cursor:pointer;
  inset:0;
  background:#334155;
  border-radius:34px;
  transition:0.3s;
}

.slider:before{
  content:"";
  position:absolute;
  height:26px;
  width:26px;
  left:4px;
  bottom:4px;
  background:white;
  border-radius:50%;
  transition:0.3s;
}

input:checked + .slider{
  background:#6366f1;
}

input:checked + .slider:before{
  transform:translateX(36px);
}

/* ===== 번호 영역 ===== */
.numbers{
  margin-top:40px;
  display:flex;
  justify-content:center;
  gap:18px;
  flex-wrap:wrap;
}

.ball{
  width:70px;
  height:70px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  font-weight:700;
  color:white;
  opacity:0;
  transform:scale(0.6);
}

/* 등장 애니메이션 */
.show{
  animation:pop 0.4s ease forwards;
}

@keyframes pop{
  to{
    opacity:1;
    transform:scale(1);
  }
}

/* 버튼 */
button{
  margin-top:50px;
  padding:14px 40px;
  border:none;
  border-radius:30px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(45deg,#6366f1,#8b5cf6);
  color:white;
  transition:0.3s;
}

button:hover{
  transform:scale(1.05);
}

button:disabled{
  opacity:0.4;
  cursor:not-allowed;
}

@media(max-width:480px){
  .ball{
    width:58px;
    height:58px;
    font-size:20px;
  }
}
</style>
</head>
<body>

<h1>LOTTO GENERATOR</h1>

<div class="toggle-wrap">
  <span>하나씩 보기</span>

  <label class="switch">
    <input type="checkbox" id="modeToggle">
    <span class="slider"></span>
  </label>

  <span>한번에 보기</span>
</div>

<div class="numbers" id="numbers"></div>

<button id="generateBtn">번호 생성</button>

<script>
const numbersContainer = document.getElementById("numbers");
const generateBtn = document.getElementById("generateBtn");
const modeToggle = document.getElementById("modeToggle");

function getColor(num){
  if(num<=10) return "#facc15";
  if(num<=20) return "#3b82f6";
  if(num<=30) return "#ef4444";
  if(num<=40) return "#22c55e";
  return "#a855f7";
}

function generateNumbers(){
  const set=new Set();
  while(set.size<6){
    set.add(Math.floor(Math.random()*45)+1);
  }
  return [...set];
}

/* ===== 슬롯 애니메이션 (동일속도) ===== */
function slotSpin(ball,finalNumber){
  return new Promise(resolve=>{
    let count=0;
    const duration=1200;
    const interval=60;

    const spin=setInterval(()=>{
      ball.textContent=Math.floor(Math.random()*45)+1;
      count+=interval;
      if(count>=duration){
        clearInterval(spin);
        ball.textContent=finalNumber;
        resolve();
      }
    },interval);
  });
}

/* ===== 하나씩 모드 ===== */
async function revealSequential(sorted){
  for(let i=0;i<6;i++){
    const ball=document.createElement("div");
    ball.className="ball";
    ball.style.background=getColor(sorted[i]);
    numbersContainer.appendChild(ball);

    await slotSpin(ball,sorted[i]);
    ball.classList.add("show");
  }
}

/* ===== 한번에 모드 ===== */
async function revealAllAtOnce(sorted){
  const balls=[];

  for(let i=0;i<6;i++){
    const ball=document.createElement("div");
    ball.className="ball show";
    ball.style.background=getColor(sorted[i]);
    numbersContainer.appendChild(ball);
    balls.push(ball);
  }

  await Promise.all(
    balls.map((ball,i)=>slotSpin(ball,sorted[i]))
  );
}

/* ===== 생성 ===== */
generateBtn.addEventListener("click", async ()=>{
  generateBtn.disabled=true;
  numbersContainer.innerHTML="";

  const numbers=generateNumbers();
  const sorted=[...numbers].sort((a,b)=>a-b);

  if(modeToggle.checked){
    await revealAllAtOnce(sorted);
  }else{
    await revealSequential(sorted);
  }

  generateBtn.disabled=false;
});
</script>

</body>
</html>
